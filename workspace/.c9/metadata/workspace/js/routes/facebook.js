{"filter":false,"title":"facebook.js","tooltip":"/js/routes/facebook.js","undoManager":{"mark":8,"position":8,"stack":[[{"start":{"row":0,"column":0},"end":{"row":3,"column":44},"action":"insert","lines":["var express     = require(\"express\");","var router      = express.Router();","var passport    = require(\"passport\");","var User        = require(\"../models/user\");"],"id":1}],[{"start":{"row":3,"column":37},"end":{"row":3,"column":38},"action":"insert","lines":["f"],"id":2}],[{"start":{"row":3,"column":38},"end":{"row":3,"column":39},"action":"insert","lines":["b"],"id":3}],[{"start":{"row":3,"column":39},"end":{"row":3,"column":40},"action":"remove","lines":["u"],"id":4}],[{"start":{"row":3,"column":39},"end":{"row":3,"column":40},"action":"insert","lines":["U"],"id":5}],[{"start":{"row":3,"column":46},"end":{"row":4,"column":0},"action":"insert","lines":["",""],"id":6}],[{"start":{"row":4,"column":0},"end":{"row":5,"column":0},"action":"insert","lines":["",""],"id":7}],[{"start":{"row":5,"column":0},"end":{"row":25,"column":3},"action":"insert","lines":["app.get('/auth/facebook', passport.authenticate('facebook', {scope: ['public_profile', 'email']}));","app.get('/auth/facebook/callback',","  passport.authenticate('facebook', { successRedirect: '/',","                                      failureRedirect: '/' }));","","app.get('/login/facebook', ","  passport.authenticate('facebook', { scope : 'email' }","));"," ","// handle the callback after facebook has authenticated the user","app.get('/login/facebook/callback',","  passport.authenticate('facebook', {","    successRedirect : '/home',","    failureRedirect : '/'","  })",");","","app.get('/logout', function(req, res) {","    req.logout();","    res.redirect('/');","});"],"id":8}],[{"start":{"row":5,"column":0},"end":{"row":5,"column":3},"action":"remove","lines":["app"],"id":9},{"start":{"row":5,"column":0},"end":{"row":5,"column":6},"action":"insert","lines":["router"]},{"start":{"row":6,"column":0},"end":{"row":6,"column":3},"action":"remove","lines":["app"]},{"start":{"row":6,"column":0},"end":{"row":6,"column":6},"action":"insert","lines":["router"]},{"start":{"row":10,"column":0},"end":{"row":10,"column":3},"action":"remove","lines":["app"]},{"start":{"row":10,"column":0},"end":{"row":10,"column":6},"action":"insert","lines":["router"]},{"start":{"row":15,"column":0},"end":{"row":15,"column":3},"action":"remove","lines":["app"]},{"start":{"row":15,"column":0},"end":{"row":15,"column":6},"action":"insert","lines":["router"]},{"start":{"row":22,"column":0},"end":{"row":22,"column":3},"action":"remove","lines":["app"]},{"start":{"row":22,"column":0},"end":{"row":22,"column":6},"action":"insert","lines":["router"]}]]},"ace":{"folds":[],"scrolltop":12,"scrollleft":0,"selection":{"start":{"row":11,"column":13},"end":{"row":11,"column":13},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1520835934368,"hash":"8093bad505c4208fe98516a52b88cb24eb9afc6e"}